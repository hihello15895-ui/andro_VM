<!DOCTYPE html>
<html><head><meta charset="utf-8"><title>Android 9 Pie</title><style>
  body{background:#000;color:#fff;font-family:system-ui;text-align:center;padding:20px}
  h1{font-size:2.2em;margin:30px 0}
  button{margin:15px;padding:20px 50px;font-size:22px;background:#0068ff;color:white;border:none;border-radius:18px;cursor:pointer}
  button:disabled{background:#444;cursor:not-allowed}
  #phone{width:410px;height:840px;margin:40px auto;border:26px solid #111;border-radius:60px;overflow:hidden;background:#000;box-shadow:0 50px 140px #000c;position:relative}
  #phone::before{content:"";position:absolute;top:50%;left:50%;width:68px;height:68px;border:6px solid #333;border-radius:50%;transform:translate(-50%,-390px)}
  canvas{width:100%;height:100%;display:block;background:#000}
  .status{color:#0f0;margin:20px;font-family:monospace;font-size:18px}
</style></head><body>
  <h1>Android 9 Pie</h1>
  <div id="phone"><div id="screen"></div></div>
  <button id="start">Start Android 9</button>
  <button id="stop" disabled>Stop</button>
  <div class="status" id="status">Ready – Click Start</div>

  <script src="libv86.js"></script>
  <script>
    let emu = null;
    document.getElementById("start").onclick = () => {
      if (emu) emu.destroy();
      document.getElementById("status").textContent = "Booting Android 9... (45–90 sec)";

      emu = new V86Starter({
        screen_container: document.getElementById("screen"),
        memory_size: 512 * 1024 * 1024,
        bios: { url: "seabios.bin" },
        vga_bios: { url: "vgabios.bin" },
        cdrom: { url: "android-x86_64-9.0-r2.iso" },
        autostart: false
      });

      emu.add_listener("emulator-ready", () => {
        document.getElementById("status").textContent = "Android 9 Running!";
        emu.run();
        document.getElementById("start").disabled = true;
        document.getElementById("stop").disabled = false;
      });
    };
    document.getElementById("stop").onclick = () => {
      if (emu) emu.destroy();
      emu = null;
      document.getElementById("start").disabled = false;
      document.getElementById("stop").disabled = true;
      document.getElementById("status").textContent = "Stopped";
    };
  </script>
</body></html>
